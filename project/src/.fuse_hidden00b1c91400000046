#!/usr/bin/env python

print 'import modules...',
import sys
sys.stdout.flush()
print

import system
import os
from context import DEFAULT_CONTEXT

C = DEFAULT_CONTEXT.copy()
C.QUERY = 'query5horizontal'
C.resultsdir="/media/DATAPART2/ah/lastrun"
C.reproj_file='/media/DATAPART2/ah/lastrun/reproj.txt'
C.params.update({
  'checks': 1024,
  'trees': 1,
  'vote_method': 'filter',
  'num_neighbors': 1,
  'dist_threshold': 70000,
  'confstring': '',
})

C.max_matches_to_analyze = 1
C.stop_on_homTrue = 0
C.put_into_dirs = 0
C.do_posit = 0
C.solve_pose = 1
C.compute2dpose = 0 # [experimental, not recommended]
C.dump_hom = 0
C.ranking_min_consistent = 1
C.min_reproj = 1
C.draw_reproj = 1
C.bundler = 0
C.bundlerdir = '/media/DATAPART2/ah/bundler'

## Query3 tagging issues
#C.selection = ['8842', '8846', '8853', '8860', '8889', '8926']

# Query2 tagging issues
#C.selection = ['7727', '7735', '7744', '7746', '7751', '7753', '7755', '7756', '7763', '7764', '7765', '7776', '7710', '7712', '7716', '7717', '7739', '7747', '7764']

# Query5 subselection

#C.selection = ['2011-04-04_15-45-22_702','2011-04-04_15-04-17_725','2011-04-04_14-58-32_697','2011-04-04_15-47-38_651','2011-04-04_15-18-13_134']
#C.selection = ['2011-04-04_15-45-22_702'] # good
#C.selection = ['2011-04-04_15-04-17_725'] # weird results
#C.selection = ['2011-04-04_14-58-32_697'] # num inliers mismatch
#C.selection = ['2011-04-04_15-47-38_651'] # breaks on this?
#C.selection = ['2011-04-04_15-18-13_134'] # broke ransac
#C.selection = ['2011-04-04_15-18-13_134'] # essential matrix
#C.selection = ['2011-04-04_15-36-35_437'] # good homography
#C.selection = ['2011-04-04_15-49-31_618'] # high num of good inliers
#C.selection = ['2011-04-04_15-44-25_954'] # high num of good inliers
#C.selection = ['2011-04-04_15-32-28_500'] # high num of good inliers, possibly ill-conditioned
#C.selection = ['2011-04-04_15-42-43_581']
#C.selection = ['2011-04-04_14-57-13_794', '2011-04-04_14-58-32_697', '2011-04-04_14-59-02_019', '2011-04-04_14-59-18_984', '2011-04-04_15-00-44_995', '2011-04-04_15-00-57_290', '2011-04-04_15-02-39_082', '2011-04-04_15-02-57_966', '2011-04-04_15-03-46_747', '2011-04-04_15-05-15_984', '2011-04-04_15-10-32_344', '2011-04-04_15-10-56_749', '2011-04-04_15-14-52_996', '2011-04-04_15-15-08_854', '2011-04-04_15-15-55_363', '2011-04-04_15-16-08_110', '2011-04-04_15-16-24_729', '2011-04-04_15-17-45_763', '2011-04-04_15-17-59_975', '2011-04-04_15-18-13_134', '2011-04-04_15-19-11_784', '2011-04-04_15-19-27_080', '2011-04-04_15-19-41_314', '2011-04-04_15-20-49_891', '2011-04-04_15-21-18_677', '2011-04-04_15-21-49_787', '2011-04-04_15-22-22_387', '2011-04-04_15-22-31_544', '2011-04-04_15-23-24_958', '2011-04-04_15-23-41_373', '2011-04-04_15-24-03_673', '2011-04-04_15-25-15_579', '2011-04-04_15-25-29_945', '2011-04-04_15-25-39_871', '2011-04-04_15-26-15_957', '2011-04-04_15-26-29_139', '2011-04-04_15-26-45_982', '2011-04-04_15-29-04_991', '2011-04-04_15-29-32_645', '2011-04-04_15-29-47_397', '2011-04-04_15-30-57_504', '2011-04-04_15-31-05_075', '2011-04-04_15-32-28_500', '2011-04-04_15-35-25_423', '2011-04-04_15-36-15_712', '2011-04-04_15-36-35_437', '2011-04-04_15-36-56_430', '2011-04-04_15-37-57_238', '2011-04-04_15-39-13_411', '2011-04-04_15-40-49_041', '2011-04-04_15-41-59_491', '2011-04-04_15-42-12_652', '2011-04-04_15-42-43_581', '2011-04-04_15-43-17_527', '2011-04-04_15-44-25_954', '2011-04-04_15-44-57_398', '2011-04-04_15-45-22_702', '2011-04-04_15-45-56_207', '2011-04-04_15-46-55_124', '2011-04-04_15-49-31_618', '2011-04-04_15-49-49_826', '2011-04-04_15-50-21_519', '2011-04-04_15-50-32_242', '2011-04-05_12-25-16_732', '2011-04-05_12-26-25_665']

#print 'SELECTION SIZE: ', len(C.selection)

if 'DEBUG' in os.environ:
  system.characterize(C)
else:
  with system.MultiprocessExecution():
    system.characterize(C)

# vim: et sw=2
